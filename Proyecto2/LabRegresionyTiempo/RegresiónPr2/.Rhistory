install.packages("ggplot2")
install.packages("dplyr")
library(ggplot2)
library(dplyr)
library(DBI)
library(odbc)
con <- dbConnect(odbc::odbc(), Driver = "SQL Server", Server = "DESKTOP-0PP45D4",
Database = "RepuestosWeb", timeout = 50)
#Data frames
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
View(dfsql)
View(dfsql)
dfsql
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,]
dfsql2 <- dfsql[-dfsqlindex,]
View(dfsql1)
View(dfsql2)
sapply(dfsql1, function(x) sum(dfsql(x)))
sapply(dfsql1, function(x) sum(dfsql1(x)))
sapply(dfsql1, function(x) sum(x))
count(dfsql1, dfsql1[1])
library(dplyr)
count(dfsql1, dfsql1[1])
count(dfsql1, sum(dfsql1[1]))
count(dfsql2, sum(dfsql2[1]))
dfsql1
View(dfsql)
View(dfsql1)
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
dfsql1
lmHeight = lm(Cantidad~Anio+Marca+Modelo+NombreParte+NombreDescuento, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
View(dfsql1)
cor(dfsql$Cantidad,dfsql$Anio + dfsql$Marca)
cor(dfsql1$Cantidad,dfsql1$Anio + dfsql1$Marca)
cor(dfsql1$Cantidad,dfsql1$Anio)
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
lmHeight = lm(Cantidad~Anio+Marca+Modelo+NombreParte+NombreDescuento, data = dfsql1) #Create the linear regression
cor(dfsql1$Cantidad,dfsql1$Anio)
cor(dfsql1$Cantidad,dfsql1$NombreDescuento)
cor(dfsql1$Cantidad,dfsql1$Marca)
cor(dfsql1$Cantidad,dfsql1$Modelo)
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
cor(dfsql1$Cantidad,dfsql1$Modelo)
dfsql1
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
dfsql1
lmHeight = lm(Cantidad~Anio+Marca+Modelo+NombreParte+NombreDescuento, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
install.packages("ggplot2")
install.packages("dplyr")
library(ggplot2)
library(dplyr)
library(DBI)
library(odbc)
install.packages("DBI")
install.packages("dplyr")
install.packages("DBI")
con <- dbConnect(odbc::odbc(), Driver = "SQL Server", Server = "DESKTOP-0PP45D4",
Database = "RepuestosWeb", timeout = 50)
#Data frames
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
dfsql1
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsql
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
dfsql
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
dfsql1
lmHeight1 = lm(Cantidad~Anio, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
dfsql1
for (i in c("Anio")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
lmHeight1 = lm(Cantidad~Anio, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
View(dfsql)
dfsql1
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
for (i in c("Anio","Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
dfsql1
lmHeight = lm(Cantidad~Anio+Marca+Modelo+NombreParte+NombreDescuento, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
lmHeight1 = lm(Cantidad~Anio, data = dfsql1) #Create the linear regression
lmHeight1
dfsql1
dfsql
View(dfsql)
con <- dbConnect(odbc::odbc(), Driver = "SQL Server", Server = "DESKTOP-0PP45D4",
Database = "RepuestosWeb", timeout = 50)
#Data frames
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfs6ql)
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
dfsql1
for (i in c("Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
for (i in c("Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
dfsql1
lmHeight = lm(Cantidad~Anio+Marca+Modelo+NombreParte+NombreDescuento, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
lmHeight1 = lm(Cantidad~Marca, data = dfsql1) #Create the linear regression
summary(lmHeight1) #Review the results
summary(lmHeight) #Review the results
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
dfsql1
for (i in c("Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
for (i in c("Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
lmHeight = lm(Cantidad~Anio+Marca+Modelo+NombreParte+NombreDescuento, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
lmHeight2 = lm(Cantidad~Anio, data = dfsql1) #Create the linear regression
summary(lmHeight2) #Review the results
lmHeight2 = lm(Cantidad~Anio+Marca+Modelo, data = dfsql1) #Create the linear regression
summary(lmHeight2) #Review the results
plot(Cantidad~Anio, data=dfsql)
plot(Cantidad~Anio, data=dfsql1)
plot(Cantidad~Marca, data=dfsql1)
plot(Cantidad~Modelo, data=dfsql1)
plot(Cantidad~NombreParte, data=dfsql1)
plot(Cantidad~NombreDescuento, data=dfsql1)
dfsql3 <-  dfsql1 %>% select(c("Anio","Marca","Modelo"))
View(dfsql3)
rm(dfsql3)
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
for (i in c("Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
for (i in c("Marca","Modelo","NombreParte","NombreDescuento")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
dfsql3 <- dfsql1 %>% select(c("Anio","Marca","Modelo","Cantidad"))
dfsql3$Auto <- paste(dfsql3$Anio, "-", dfsql3$Marca, "-" , dfsql3$Modelo)
View(dfsql3)
lmHeight2 = lm(Cantidad~Auto, data = dfsql3) #Create the linear regression
summary(lmHeight2) #Review the results
summary(lmHeight2) #Review the results
lmHeight2 = lm(Cantidad~Auto, data = dfsql3) #Create the linear regression
summary(lmHeight2) #Review the results
for (i in c("Auto")) {
dfsql3[,i]=as.factor(dfsql3[,i])
}
for (i in c("Auto")) {
dfsql3[,i]=as.numeric(dfsql3[,i])
}
View(dfsql3)
lmHeight2 = lm(Cantidad~Auto, data = dfsql3) #Create the linear regression
summary(lmHeight2) #Review the results
#Data frames
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
dfsql3 <- dfsql1 %>% select(c("Anio","Marca","Modelo","Cantidad", "NombreParte","NombreDescuento"))
dfsql3$Auto <- paste(dfsql3$Anio, "-", dfsql3$Marca, "-" , dfsql3$Modelo)
View(dfsql3)
for (i in c("Auto")) {
dfsql3[,i]=as.factor(dfsql3[,i])
}
for (i in c("Auto")) {
dfsql3[,i]=as.numeric(dfsql3[,i])
}
View(dfsql3)
lmHeight2 = lm(Cantidad~Auto + NombreParte + NombreDescuento, data = dfsql3) #Create the linear regression
summary(lmHeight2) #Review the results
lmHeight2 = lm(Cantidad~NombreDescuento, data = dfsql3) #Create the linear regression
summary(lmHeight2) #Review the results
for (i in c("Auto","NombreDescuento","NombreDescuento")) {
dfsql3[,i]=as.factor(dfsql3[,i])
}
for (i in c("Auto","NomDescuento","NombreDescuento")) {
dfsql3[,i]=as.numeric(dfsql3[,i])
}
for (i in c("Auto","NombreDescuento","NombreParte")) {
dfsql3[,i]=as.factor(dfsql3[,i])
}
for (i in c("Auto","NombreDescuento","NombreParte")) {
dfsql3[,i]=as.numeric(dfsql3[,i])
}
lmHeight2 = lm(Cantidad~NombreDescuento, data = dfsql3) #Create the linear regression
View(dfsql3)
lmHeight2 = lm(Cantidad~NombreDescuento + NombreParte + Auto, data = dfsql3) #Create the linear regression
summary(lmHeight2) #Review the results
lmHeight2 = lm(Auto~NombreDescuento + NombreParte + Cantidad, data = dfsql3) #Create the linear regression
summary(lmHeight2) #Review the results
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
dfsql3 <- dfsql1 %>% select(c("Cantidad", "NombreParte","NombreDescuento"))
dfsql3$Auto <- paste(dfsql1$Anio, "-", dfsql1$Marca, "-" , dfsql1$Modelo)
View(dfsql3)
install.packages("dummies")
library(dummies)
dfsql3 <- dummy.data.frame(dfsql3, names=c("Cantidad", "NombreParte","NombreDescuento"), sep="_")
dfsql3 <- dummy.data.frame(dfsql3, names=c("Cantidad", "NombreParte","NombreDescuento","Auto"), sep="_")
for (i in c("Cantidad", "NombreParte","NombreDescuento","Auto")) {
dfsql3[,i]=as.factor(dfsql3[,i])
}
View(dfsql3)
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
dfsql3 <- dfsql1 %>% select(c("Cantidad", "NombreParte","NombreDescuento"))
dfsql3$Auto <- paste(dfsql1$Anio, "-", dfsql1$Marca, "-" , dfsql1$Modelo)
dfsql3 <- dummy.data.frame(dfsql3, names=c("NombreParte","NombreDescuento","Auto"), sep="_")
View(dfsql3)
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
View(dfsql1)
install.packages("ggplot2")
install.packages("dplyr")
library(ggplot2)
library(dplyr)
library(DBI)
library(odbc)
install.packages("DBI")
install.packages("DBI")
con <- dbConnect(odbc::odbc(), Driver = "SQL Server", Server = "DESKTOP-0PP45D4",
Database = "RepuestosWeb", timeout = 50)
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
for (i in c("NombreParte","NombreDescuento","Anio","Marca","Modelo")) {
dfsql3[,i]=as.factor(dfsql3[,i])
}
for (i in c("NombreParte","NombreDescuento","Anio","Marca","Modelo")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
for (i in c("NombreParte","NombreDescuento","Anio","Marca","Modelo")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
dfsql1
View(dfsql1)
View(dfsql1)
lmHeight = lm(Cantidad~Anio+Marca+Modelo, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
lmHeight2 = lm(Cantidad~NombreParte, data = dfsql1) #Create the linear regression
lmHeight3 = lm(Cantidad~NombreDescuento, data = dfsql1) #Create the linear regression
summary(lmHeight3)
summary(lmHeight) #Review the results
summary(lmHeight2)
.libPaths()
install.packages("ggplot2")
install.packages("dplyr")
library(ggplot2)
library(dplyr)
library(DBI)
library(odbc)
install.packages("DBI")
# ALEXANDER VILLATORO 1182118
# LUIS CHUTÁ 1320016
# SERGIO LARA 1044418
# ANDRES GALVEZ 1024718
# Conectar a DB
con <- dbConnect(odbc::odbc(), Driver = "SQL Server", Server = "DESKTOP-0PP45D4",
Database = "RepuestosWeb", timeout = 50)
#Data frames
dfsql = dbGetQuery(con,"
select R.Nombre as NombreRegion, CA.Nombre as NombreCategoria, V.Marca, O.Total_Orden
from Region R inner join Ciudad C on (R.ID_Region = C.ID_Region)
inner join Orden O on (C.ID_Ciudad = O.ID_Ciudad) inner join
Detalle_orden DO on (O.ID_Orden = DO.ID_Orden) inner join
Partes P on (P.ID_Parte = DO.ID_Parte) inner join
Categoria CA on (CA.ID_Categoria = P.ID_Categoria) inner join
Vehiculo V on (V.VehiculoID = DO.VehiculoID)
")
install.packages("DBI")
dfsql <- na.omit(dfsql)
#Data frames
dfsql = dbGetQuery(con,"
select * from V_CantidadPorVehiculoyDescuento;
")
dfsql
dfsql <- na.omit(dfsql)
dfsqlindex <- sample(1:nrow(dfsql), 0.8*nrow(dfsql))
dfsql1 <- dfsql[dfsqlindex,] #80%
dfsql2 <- dfsql[-dfsqlindex,] #20%
for (i in c("NombreParte","NombreDescuento","Marca","Modelo")) {
dfsql1[,i]=as.factor(dfsql1[,i])
}
for (i in c("NombreParte","NombreDescuento","Marca","Modelo")) {
dfsql1[,i]=as.numeric(dfsql1[,i])
}
dfsql1
lmHeight = lm(Cantidad~Anio+Marca+Modelo, data = dfsql1) #Create the linear regression
summary(lmHeight) #Review the results
lmHeight2 = lm(Cantidad~NombreParte, data = dfsql1) #Create the linear regression
summary(lmHeight2)
lmHeight3 = lm(Cantidad~NombreDescuento, data = dfsql1) #Create the linear regression
summary(lmHeight3)
#Data frames
dfsqlL = dbGetQuery(con,"
select R.Nombre as NombreRegion, CA.Nombre as NombreCategoria, V.Marca, O.Total_Orden
from Region R inner join Ciudad C on (R.ID_Region = C.ID_Region)
inner join Orden O on (C.ID_Ciudad = O.ID_Ciudad) inner join
Detalle_orden DO on (O.ID_Orden = DO.ID_Orden) inner join
Partes P on (P.ID_Parte = DO.ID_Parte) inner join
Categoria CA on (CA.ID_Categoria = P.ID_Categoria) inner join
Vehiculo V on (V.VehiculoID = DO.VehiculoID)
"
)
dfsqlL <- na.omit(dfsqlL)
dfsqlindexL <- sample(1:nrow(dfsqlL), 0.8*nrow(dfsqlL))
dfsqlL1 <- dfsqlL[dfsqlindexL,] #80%
dfsqlL2 <- dfsqlL[-dfsqlindexL,] #20%
dfsql1
dfsqlL1
dfsqlL = dbGetQuery(con,"
select * from VW_TotalOrdenNombres
"
)
dfsqlL <- na.omit(dfsqlL)
dfsqlindexL <- sample(1:nrow(dfsqlL), 0.8*nrow(dfsqlL))
dfsqlL1 <- dfsqlL[dfsqlindexL,] #80%
dfsqlL2 <- dfsqlL[-dfsqlindexL,] #20%
dfsqlL1
for (i in c("NombreRegion","NombreCategoria","Marca")) {
dfsqlL1[,i]=as.factor(dfsqlL1[,i])
}
for (i in c("NombreRegion","NombreCategoria","Marca")) {
dfsqlL1[,i]=as.numeric(dfsqlL1[,i])
}
dfsqlL1
lmHeight = lm(Total_Orden~NombreRegion+NombreCategoria+Marca, data = dfsqlL1) #Create the linear regression
lmHeightL = lm(Total_Orden~NombreRegion+NombreCategoria+Marca, data = dfsqlL1) #Create the linear regression
summary(lmHeightL) #Review the results
lmHeightL2 = lm(Total_Orden~NombreRegion, data = dfsqlL1) #Create the linear regression
summary(lmHeightL2) #Review the results
dfsqlL = dbGetQuery(con,"
select R.Nombre as NombreRegion, CA.Nombre as NombreCategoria, V.Marca, O.Total_Orden, DO.Cantidad,P.Precio
from Region R inner join Ciudad C on (R.ID_Region = C.ID_Region)
inner join Orden O on (C.ID_Ciudad = O.ID_Ciudad) inner join
Detalle_orden DO on (O.ID_Orden = DO.ID_Orden) inner join
Partes P on (P.ID_Parte = DO.ID_Parte) inner join
Categoria CA on (CA.ID_Categoria = P.ID_Categoria) inner join
Vehiculo V on (V.VehiculoID = DO.VehiculoID)
"
)
dfsqlL <- na.omit(dfsqlL)
dfsqlindexL <- sample(1:nrow(dfsqlL), 0.8*nrow(dfsqlL))
dfsqlL1 <- dfsqlL[dfsqlindexL,] #80%
dfsqlL2 <- dfsqlL[-dfsqlindexL,] #20%
for (i in c("NombreRegion","NombreCategoria","Marca")) {
dfsqlL1[,i]=as.factor(dfsqlL1[,i])
}
for (i in c("NombreRegion","NombreCategoria","Marca")) {
dfsqlL1[,i]=as.numeric(dfsqlL1[,i])
}
dfsqlL1
lmHeightL = lm(Total_Orden~NombreRegion+NombreCategoria+Marca+Cantidad+Precio, data = dfsqlL1) #Create the linear regression
summary(lmHeightL) #Review the results
lmHeightL2 = lm(Total_Orden~Precio, data = dfsqlL1) #Create the linear regression
summary(lmHeightL2) #Review the results
lmHeightL2 = lm(Total_Orden~Cantidad, data = dfsqlL1) #Create the linear regression
summary(lmHeightL2) #Review the results
